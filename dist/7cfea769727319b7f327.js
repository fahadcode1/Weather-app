import"./styles.css";const weatherForm=document.querySelector(".weatherForm"),cityInput=document.querySelector(".cityInput"),card=document.querySelector(".card"),apiKey=process.env.API_KEY;async function getWeatherData(e){const t=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?unitGroup=metric&key=${apiKey}&contentType=json`,a=await fetch(t);if(!a.ok)throw new Error("Could not fetch weather data");return await a.json()}function displayWeatherInfo(e){const{resolvedAddress:t,currentConditions:{temp:a,humidity:n,conditions:r,icon:c}}=e;card.textContent="",card.style.display="flex";const i=document.createElement("h1"),s=document.createElement("p"),d=document.createElement("p"),o=document.createElement("p"),l=document.createElement("p");i.textContent=t,s.textContent=`${a}Â°C`,d.textContent=`Humidity: ${n}%`,o.textContent=r,l.textContent=getWeatherEmoji(c),i.classList.add("cityDisplay"),s.classList.add("tempDisplay"),d.classList.add("humidityDisplay"),o.classList.add("conditionsDisplay"),l.classList.add("emojiDisplay"),card.appendChild(i),card.appendChild(s),card.appendChild(d),card.appendChild(o),card.appendChild(l)}function getWeatherEmoji(e){return{"clear-day":"â˜€ï¸","clear-night":"ðŸŒ•","partly-cloudy-day":"â›…","partly-cloudy-night":"ðŸŒ¤ï¸",cloudy:"â˜ï¸",rain:"ðŸŒ§ï¸",snow:"â„ï¸",fog:"ðŸŒ«ï¸",wind:"ðŸ’¨",hail:"ðŸ§Š",thunderstorm:"ðŸŒ©ï¸"}[e]||""}function displayError(e){const t=document.createElement("p");t.textContent=e,t.classList.add("displayError"),card.textContent="",card.style.display="flex",card.appendChild(t)}weatherForm.addEventListener("submit",async e=>{e.preventDefault();const t=cityInput.value;if(t)try{displayWeatherInfo(await getWeatherData(t))}catch(e){console.error(e),displayError(e.message)}else displayError("Please enter a city")});